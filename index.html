<!DOCTYPE html>
<head>
	<meta charset='UTF-8' />
	
	<title>ONTIME MAPPING </title>
	
	<link rel='stylesheet' href='css/style.css' />
	
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'></script>

	<script src='js/drawingtable.js'></script>
	
</head>

<body background="https://raw.githubusercontent.com/Anjaneyajs/Maze-Solver/master/img/5.jpg" style="background-position: center;
background-repeat: no-repeat;
background-size: cover;">
	<script type="module">
		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
		import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-analytics.js";
		import { getDatabase, set, ref, onValue } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js"
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries
	  
		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		const firebaseConfig = {
		  apiKey: "AIzaSyADKCLpyrvLmQv2kdcuJXm6o9L9wNXg5zc",
		  authDomain: "maze-solver-website.firebaseapp.com",
		  databaseURL: "https://maze-solver-website-default-rtdb.firebaseio.com",
		  projectId: "maze-solver-website",
		  storageBucket: "maze-solver-website.appspot.com",
		  messagingSenderId: "270216559839",
		  appId: "1:270216559839:web:dc64217a0bdb58609cfd6a",
		  measurementId: "G-KKHEZEW3SZ"
		};
	  
		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		//const analytics = getAnalytics(app);
		const database = getDatabase(app);
	
	
		window.onload = function(){
			var element = document.getElementById("firebaseButton");
			// element.onclick = () => {
			// console.log("hi");
			// const db = getDatabase();
			  // set(ref(db, 'loc/'), {
			// 	"i":1,
			// 	'j':3
			// });
			// }

			var x = document.getElementById('drawing-table').getElementsByTagName('td');
			//x[63].style.backgroundColor = "yellow";

			
				let cTres, rTres;
				cTres = false;
				rTres = false;
var MATRIX_SIZE = 8;
				var cD, rD;
				cD = 4;
				rD = 4;
				for (var i = 0; i < MATRIX_SIZE; i++) {
					cTres = false;
					//cD = c;
					for (var j = 0; j < MATRIX_SIZE; j++) {

					x [i*8+j].innerHTML = cD + rD;
					console.log(cD + rD);
					if (cTres)
						cD++;
					else
						cD--;

					if (cD == 0)
						cTres = true;
					}
					if (rTres)
					rD++;
					else
					rD--;

					if (rD == 0)
					rTres = true;
				}
	
			const db = getDatabase();
			const reference = ref(db, 'loc/');
			onValue(reference, (snapshot) => {
				var i = snapshot.child('i').val();
				var j = snapshot.child('j').val();
				//if (i==0 && j==0) {
					x[i*8+j].style.backgroundColor = "green";
					x[i*8+j].innerHTML = "1";
				
				//}
				//else
				console.log(i);
				console.log(j);
			});
		}
	  </script>

	<div id="page-wrap">
	
		<h1>MAZE</h1>
		<br><br><br><br>
		
		
	
	
		<div id ="table-wrap">
			<table id="drawing-table" >
				<tr>
					<td></td>
				</tr>
			</table>
		</div>
	
	</div>
	
</body>

</html>
